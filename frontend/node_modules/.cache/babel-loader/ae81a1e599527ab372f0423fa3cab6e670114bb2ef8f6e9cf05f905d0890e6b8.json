{"ast":null,"code":"\n// import React, { useEffect, useState } from \"react\";\n// import axios from \"axios\";\n// import { useNavigate } from \"react-router-dom\";\n// import Card from \"../components/Card\";\n// import imgPhoto from \"../assets/login-cup.jpeg\";\n// import b_imgPhoto from \"../assets/blackcoffe.jpg\";\n// import t_imgPhoto from \"../assets/tea.jpg\";\n// import w_imgPhoto from \"../assets/water.jpg\";\n// import \"./HomePage.css\";\n\n// const HomePage = () => {\n//   const [isAuthenticated, setIsAuthenticated] = useState(false);\n//   const [userEmail, setUserEmail] = useState('');\n//   const [loading, setLoading] = useState(false);\n//   const navigate = useNavigate();\n\n//   useEffect(() => {\n//     const token = localStorage.getItem('token');\n//     if (token) {\n//       axios.get('http://localhost:5000/protected', {\n//         headers: { Authorization: `Bearer ${token}` }\n//       })\n//         .then(response => {\n//           setIsAuthenticated(true);\n//           setUserEmail(response.data.email); // Assume email is sent back from the server\n//         })\n//         .catch(error => {\n//           console.error('Error verifying token:', error);\n//           navigate('/login');\n//         });\n//     } else {\n//       navigate('/login');\n//     }\n//   }, [navigate]);\n\n//   if (!isAuthenticated) return null;\n\n//   const cardData = [\n//     {\n//       photo: imgPhoto,\n//       title: \"Coffee\",\n//       desc: \"A rich and aromatic beverage made from roasted coffee beans.\",\n//     },\n//     {\n//       photo: b_imgPhoto,\n//       title: \"Black Coffee\",\n//       desc: \"Pure and bold coffee brewed without any additives.\",\n//     },\n//     {\n//       photo: imgPhoto,\n//       title: \"Strong Coffee\",\n//       desc: \"An intense and potent coffee with a higher caffeine kick.\",\n//     },\n//     {\n//       photo: t_imgPhoto,\n//       title: \"Tea\",\n//       desc: \"A versatile beverage made by steeping leaves, herbs, or spices.\",\n//     },\n//     {\n//       photo: t_imgPhoto,\n//       title: \"Strong Tea\",\n//       desc: \"A bold and concentrated infusion with a richer flavor.\",\n//     },\n//     {\n//       photo: w_imgPhoto,\n//       title: \"Water\",\n//       desc: \"A pure and refreshing essential drink for hydration.\",\n//     },\n//   ];\n\n//   const handleCardClick = async (card) => {\n//     setLoading(true); // Set loading to true when card is clicked\n//     try {\n//       const response = await axios.post('http://localhost:5000/send-email', {\n//         userEmail,\n//         title: card.title,\n//         desc: card.desc\n//       });\n//       console.log(response.data);\n//       alert(response.data.message);\n//     } catch (error) {\n//       console.error('Error sending email', error);\n//       alert('Failed to send email');\n//     }\n//     finally {\n//       setLoading(false); // Set loading to false after processing is complete\n//     }\n//   };\n\n//   const handleLogout = () => {\n//     localStorage.removeItem('token');\n//     navigate('/');\n//   };\n\n//   const handleViewOrderStatus = () => {\n//     navigate('/order-status');\n//   };\n\n//   return (\n//     <div className=\"homepage-container\">\n//       <header className=\"homepage-header\">\n//         <h1>Beverage Delivery, at your desk!</h1>\n//         <p>Select your favourite drink. </p>\n//         <button onClick={handleLogout} className=\"logout-button\">Logout</button>\n//         <button onClick={handleViewOrderStatus} className=\"order-status-button\">View My Order Status</button>\n//       </header>\n//       <div className=\"card-grid\">\n//         {cardData.map((card, index) => (\n//           <Card\n//             key={index}\n//             photo={card.photo}\n//             title={card.title}\n//             desc={card.desc}\n//             onClick={() => handleCardClick(card)}\n//           />\n//         ))}\n//       </div>\n//       {loading && <div className=\"loading-overlay\">Processing your order...</div>}\n//     </div>\n//   );\n// };\n\n// export default HomePage;","map":{"version":3,"names":[],"sources":["/home/sidharth/Desktop/pantry_ping/pantryping_orderstatus/functional_pantry_ping/frontend/src/pages/HomePage.js"],"sourcesContent":["\n// import React, { useEffect, useState } from \"react\";\n// import axios from \"axios\";\n// import { useNavigate } from \"react-router-dom\";\n// import Card from \"../components/Card\";\n// import imgPhoto from \"../assets/login-cup.jpeg\";\n// import b_imgPhoto from \"../assets/blackcoffe.jpg\";\n// import t_imgPhoto from \"../assets/tea.jpg\";\n// import w_imgPhoto from \"../assets/water.jpg\";\n// import \"./HomePage.css\";\n\n// const HomePage = () => {\n//   const [isAuthenticated, setIsAuthenticated] = useState(false);\n//   const [userEmail, setUserEmail] = useState('');\n//   const [loading, setLoading] = useState(false);\n//   const navigate = useNavigate();\n\n//   useEffect(() => {\n//     const token = localStorage.getItem('token');\n//     if (token) {\n//       axios.get('http://localhost:5000/protected', {\n//         headers: { Authorization: `Bearer ${token}` }\n//       })\n//         .then(response => {\n//           setIsAuthenticated(true);\n//           setUserEmail(response.data.email); // Assume email is sent back from the server\n//         })\n//         .catch(error => {\n//           console.error('Error verifying token:', error);\n//           navigate('/login');\n//         });\n//     } else {\n//       navigate('/login');\n//     }\n//   }, [navigate]);\n\n//   if (!isAuthenticated) return null;\n\n//   const cardData = [\n//     {\n//       photo: imgPhoto,\n//       title: \"Coffee\",\n//       desc: \"A rich and aromatic beverage made from roasted coffee beans.\",\n//     },\n//     {\n//       photo: b_imgPhoto,\n//       title: \"Black Coffee\",\n//       desc: \"Pure and bold coffee brewed without any additives.\",\n//     },\n//     {\n//       photo: imgPhoto,\n//       title: \"Strong Coffee\",\n//       desc: \"An intense and potent coffee with a higher caffeine kick.\",\n//     },\n//     {\n//       photo: t_imgPhoto,\n//       title: \"Tea\",\n//       desc: \"A versatile beverage made by steeping leaves, herbs, or spices.\",\n//     },\n//     {\n//       photo: t_imgPhoto,\n//       title: \"Strong Tea\",\n//       desc: \"A bold and concentrated infusion with a richer flavor.\",\n//     },\n//     {\n//       photo: w_imgPhoto,\n//       title: \"Water\",\n//       desc: \"A pure and refreshing essential drink for hydration.\",\n//     },\n//   ];\n\n//   const handleCardClick = async (card) => {\n//     setLoading(true); // Set loading to true when card is clicked\n//     try {\n//       const response = await axios.post('http://localhost:5000/send-email', {\n//         userEmail,\n//         title: card.title,\n//         desc: card.desc\n//       });\n//       console.log(response.data);\n//       alert(response.data.message);\n//     } catch (error) {\n//       console.error('Error sending email', error);\n//       alert('Failed to send email');\n//     }\n//     finally {\n//       setLoading(false); // Set loading to false after processing is complete\n//     }\n//   };\n\n//   const handleLogout = () => {\n//     localStorage.removeItem('token');\n//     navigate('/');\n//   };\n\n//   const handleViewOrderStatus = () => {\n//     navigate('/order-status');\n//   };\n\n\n//   return (\n//     <div className=\"homepage-container\">\n//       <header className=\"homepage-header\">\n//         <h1>Beverage Delivery, at your desk!</h1>\n//         <p>Select your favourite drink. </p>\n//         <button onClick={handleLogout} className=\"logout-button\">Logout</button>\n//         <button onClick={handleViewOrderStatus} className=\"order-status-button\">View My Order Status</button>\n//       </header>\n//       <div className=\"card-grid\">\n//         {cardData.map((card, index) => (\n//           <Card\n//             key={index}\n//             photo={card.photo}\n//             title={card.title}\n//             desc={card.desc}\n//             onClick={() => handleCardClick(card)}\n//           />\n//         ))}\n//       </div>\n//       {loading && <div className=\"loading-overlay\">Processing your order...</div>}\n//     </div>\n//   );\n// };\n\n// export default HomePage;\n"],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}